{"ast":null,"code":"import _slicedToArray from \"/Users/alexander.rivera@ibm.com/Documents/SoftwareDev/eagle-prime-demo/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/alexander.rivera@ibm.com/Documents/SoftwareDev/eagle-prime-demo/src/components/Report.tsx\";\nimport React, { useState, useEffect } from 'react';\nimport Movie from './Movie';\nimport axios from 'axios';\nimport MovieDB from '../data/db';\nimport { compareData } from '../data/moviePayload';\nimport { withStyles, Button, CardContent, Card } from '@material-ui/core';\nimport Grid from '@material-ui/core/Grid';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableCell from '@material-ui/core/TableCell';\nimport Paper from '@material-ui/core/Paper';\nimport styles from './report.styles';\nimport CheckBox from '@material-ui/core/Checkbox';\n\nconst Report = props => {\n  const initValue = [{}];\n  const initLog = {\n    positive: [{}],\n    negative: [{}]\n  };\n  const API_TITLE_ENPOINT = \"http://www.omdbapi.com/?apikey=e60c4b4a&&t=\";\n  const API_ID_ENDPOINT = \"http://www.omdbapi.com/?apikey=e60c4b4a&&i=\";\n\n  const _useState = useState(initValue),\n        _useState2 = _slicedToArray(_useState, 2),\n        apiData = _useState2[0],\n        setApiData = _useState2[1]; // Defines the data pulled from IMDB through the batch given\n\n\n  const _useState3 = useState(),\n        _useState4 = _slicedToArray(_useState3, 2),\n        payloadData = _useState4[0],\n        setPayloadData = _useState4[1]; // Defines the data given through Amazon Payload\n\n\n  const _useState5 = useState(initLog),\n        _useState6 = _slicedToArray(_useState5, 2),\n        processLog = _useState6[0],\n        setProcessLog = _useState6[1];\n\n  const _useState7 = useState(false),\n        _useState8 = _slicedToArray(_useState7, 2),\n        isInspecting = _useState8[0],\n        setIsInspecting = _useState8[1];\n\n  const _useState9 = useState(false),\n        _useState10 = _slicedToArray(_useState9, 2),\n        isSelected = _useState10[0],\n        setSelected = _useState10[1];\n\n  const _useState11 = useState(false),\n        _useState12 = _slicedToArray(_useState11, 2),\n        isSubmitting = _useState12[0],\n        setIsSubmitting = _useState12[1];\n\n  const _useState13 = useState(0),\n        _useState14 = _slicedToArray(_useState13, 2),\n        key = _useState14[0],\n        setKey = _useState14[1];\n\n  const classes = props.classes;\n  const batch = props.batch;\n  useEffect(() => {\n    const fetchDataByTitle = async () => {\n      const _ref = await axios.get(\"\".concat(API_TITLE_ENPOINT, \"+\").concat(batch[0].title)),\n            movie = _ref.data;\n\n      if (apiData === initValue) {\n        apiData.shift();\n        console.log(\"Shifting\");\n      }\n\n      setApiData([...apiData, movie]);\n      const res = compareData(movie, MovieDB);\n      setProcessLog(compareData(movie, MovieDB));\n      console.log(\"Our current overall state\", apiData);\n      console.log(\"Our current state in map\", movie);\n      console.log(\"total props\", props);\n      console.log(\"Title is \", batch[0].title);\n      console.log(\"Testing results\", res.positive.length);\n    };\n\n    fetchDataByTitle();\n    setPayloadData(MovieDB);\n  }, []);\n\n  const handleReportLog = () => {\n    if (!isSubmitting) setIsSubmitting(true);else setIsSubmitting(false);\n  };\n\n  const handleErrorMessage = () => {\n    if (isSubmitting && !isSelected) {\n      return React.createElement(Card, {\n        style: {\n          marginBottom: \"20px\",\n          backgroundColor: 'red',\n          opacity: '0.7'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(CardContent, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, \"Cannot create empty report.\"));\n    }\n  };\n\n  const processDataComparison = (batch, payload) => {\n    const results = compareData(payload, batch);\n    console.log(\"These are the results from comparison: \", results);\n    return results;\n  };\n\n  const handleItemSelect = item => {\n    console.log(\"This is the selected\", item);\n    if (!isSelected) setSelected(true);else setSelected(false);\n  };\n\n  const manageMovieDisplay = () => {\n    if (isInspecting) {\n      return React.createElement(React.Fragment, null, React.createElement(\"h3\", {\n        style: {\n          textAlign: \"left\",\n          marginTop: \"20px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, \"Comparison Table\"), React.createElement(Movie, {\n        batch: apiData,\n        dbFile: MovieDB,\n        processLog: processLog,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }), React.createElement(Grid, {\n        container: true,\n        spacing: 10,\n        justify: \"flex-start\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        item: true,\n        xs: 5,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(Table, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(TableHead, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(TableRow, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(TableCell, {\n        align: \"left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, \" \", \" \"), React.createElement(TableCell, {\n        align: \"left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, \"imdbID\"), React.createElement(TableCell, {\n        align: \"left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, \"Writers\"), React.createElement(TableCell, {\n        align: \"left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, \"Directors\"))), React.createElement(TableBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(TableRow, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(TableCell, {\n        align: \"left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, \"Amazon Payload\"), React.createElement(TableCell, {\n        align: \"left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, \"N/a\"), React.createElement(TableCell, {\n        align: \"left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, payloadData[0].views[0].writers), React.createElement(TableCell, {\n        align: \"left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, payloadData[0].views[0].directors))))), React.createElement(Grid, {\n        item: true,\n        xs: 5,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(Table, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, React.createElement(TableHead, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, React.createElement(TableRow, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, React.createElement(TableCell, {\n        align: \"left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, \" \", \" \"), React.createElement(TableCell, {\n        align: \"left\",\n        className: classes.mismatchCell,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, \"imdbID\"), React.createElement(TableCell, {\n        align: \"left\",\n        className: classes.mismatchCell,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, \"Writers\"), React.createElement(TableCell, {\n        align: \"left\",\n        className: classes.positiveCell,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, \"Directors\"))), React.createElement(TableBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, apiData.map((listing, i) => React.createElement(TableRow, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(TableCell, {\n        align: \"left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, \"Batch Data\"), React.createElement(TableCell, {\n        align: \"left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, listing.imdbID), React.createElement(TableCell, {\n        align: \"left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, listing.Writer), React.createElement(TableCell, {\n        align: \"left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, listing.Director))))))));\n    } else return;\n  };\n\n  const manageDisplay = () => {\n    let counter = 1;\n    return React.createElement(React.Fragment, null, React.createElement(Grid, {\n      container: true,\n      alignItems: \"center\",\n      justify: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, React.createElement(Paper, {\n      className: classes.paperRoot,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      style: {\n        textAlign: \"center\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, \"Batch Table\"), React.createElement(Grid, {\n      item: true,\n      lg: 11,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, React.createElement(Table, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, React.createElement(TableHead, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, React.createElement(TableRow, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, React.createElement(TableCell, {\n      align: \"left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }), React.createElement(TableCell, {\n      align: \"left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, \"Movie Title\"), React.createElement(TableCell, {\n      align: \"left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, \"Positive Matches\"), React.createElement(TableCell, {\n      align: \"left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, \"Mismatches\"), React.createElement(TableCell, {\n      align: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }))), React.createElement(TableBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, apiData.map((listing, i) => React.createElement(TableRow, {\n      key: i,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, React.createElement(TableCell, {\n      key: i,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, React.createElement(CheckBox, {\n      checked: isSelected,\n      onChange: () => handleItemSelect(i),\n      color: \"primary\",\n      inputProps: {\n        'aria-label': 'primary checkbox'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    })), React.createElement(TableCell, {\n      align: \"left\",\n      key: i,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }, listing.Title), React.createElement(TableCell, {\n      align: \"left\",\n      key: i,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }, processLog.positive.length - 1), React.createElement(TableCell, {\n      align: \"left\",\n      key: i,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }, processLog.negative.length - 1), React.createElement(TableCell, {\n      align: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"outlined\",\n      onClick: () => {\n        isInspecting ? setIsInspecting(false) : setIsInspecting(true);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, isInspecting ? \"Hide\" : \"Inspect\"))))))), React.createElement(Grid, {\n      container: true,\n      justify: \"flex-start\",\n      alignItems: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      item: true,\n      lg: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, manageMovieDisplay())), React.createElement(Grid, {\n      item: true,\n      lg: 4,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"contained\",\n      size: \"large\",\n      color: \"secondary\",\n      className: classes.reportBtn,\n      onClick: () => handleReportLog(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }, \"Report Log\")), React.createElement(Grid, {\n      item: true,\n      lg: 6,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }, handleErrorMessage()))));\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    className: classes.headerLabel,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236\n    },\n    __self: this\n  }, \"ReportID: 279940376\"), manageDisplay());\n};\n\nexport default withStyles(styles)(Report);","map":{"version":3,"sources":["/Users/alexander.rivera@ibm.com/Documents/SoftwareDev/eagle-prime-demo/src/components/Report.tsx"],"names":["React","useState","useEffect","Movie","axios","MovieDB","compareData","withStyles","Button","CardContent","Card","Grid","Table","TableBody","TableHead","TableRow","TableCell","Paper","styles","CheckBox","Report","props","initValue","initLog","positive","negative","API_TITLE_ENPOINT","API_ID_ENDPOINT","apiData","setApiData","payloadData","setPayloadData","processLog","setProcessLog","isInspecting","setIsInspecting","isSelected","setSelected","isSubmitting","setIsSubmitting","key","setKey","classes","batch","fetchDataByTitle","get","title","movie","data","shift","console","log","res","length","handleReportLog","handleErrorMessage","marginBottom","backgroundColor","opacity","processDataComparison","payload","results","handleItemSelect","item","manageMovieDisplay","textAlign","marginTop","views","writers","directors","mismatchCell","positiveCell","map","listing","i","imdbID","Writer","Director","manageDisplay","counter","paperRoot","Title","reportBtn","headerLabel"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport Movie from './Movie';\nimport ReportForm from './ReportForm';\nimport axios from 'axios';\nimport MovieDB from '../data/db';\nimport {compareData} from '../data/moviePayload';\nimport {withStyles, Button, CardContent, Card} from '@material-ui/core';\nimport Grid from '@material-ui/core/Grid';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableCell from '@material-ui/core/TableCell';\nimport Paper from '@material-ui/core/Paper';\nimport styles from './report.styles';\nimport CheckBox from '@material-ui/core/Checkbox'\nimport { red } from '@material-ui/core/colors';\n\n\nconst Report = (props:any) => {\n    const initValue = [\n        {}\n    ];\n\n    const initLog ={\n        positive:[{}],\n        negative:[{}]\n    }\n\n    const API_TITLE_ENPOINT = \"http://www.omdbapi.com/?apikey=e60c4b4a&&t=\";\n    const API_ID_ENDPOINT = \"http://www.omdbapi.com/?apikey=e60c4b4a&&i=\";\n    const [apiData, setApiData] = useState(initValue); // Defines the data pulled from IMDB through the batch given\n    const [payloadData, setPayloadData] = useState(); // Defines the data given through Amazon Payload\n    const [processLog, setProcessLog] = useState(initLog);\n    const [isInspecting, setIsInspecting] = useState(false);\n    const [isSelected, setSelected] = useState(false);\n    const [isSubmitting, setIsSubmitting] = useState(false);\n    const [key, setKey] = useState(0);\n    const {classes} = props;\n    const {batch} = props;\n\n    useEffect(() => {\n\n        const fetchDataByTitle = async () => {\n            const { data: movie } = await axios.get(`${API_TITLE_ENPOINT}+${batch[0].title}`)\n\n            if (apiData === initValue) {\n                apiData.shift();\n                console.log(\"Shifting\");\n            }\n\n            setApiData([...apiData, movie]);\n            const res = compareData(movie, MovieDB);\n            setProcessLog(compareData(movie, MovieDB));\n\n            console.log(\"Our current overall state\", apiData);\n            console.log(\"Our current state in map\", movie);\n            console.log(\"total props\", props);\n            console.log(\"Title is \", batch[0].title );\n            console.log(\"Testing results\", res.positive.length);\n        }\n        \n        fetchDataByTitle();\n        setPayloadData(MovieDB);\n    }, [])\n\n    const handleReportLog = () =>{\n        if(!isSubmitting)\n            setIsSubmitting(true);\n        else\n            setIsSubmitting(false);\n    }  \n\n\n    const handleErrorMessage = () => {\n        if(isSubmitting && !isSelected){\n            return(\n                <Card style={{marginBottom:\"20px\", backgroundColor:'red', opacity:'0.7'}}>\n                    <CardContent>\n                        Cannot create empty report.\n                    </CardContent>\n                </Card>\n            );\n        }\n    }\n\n\n    const processDataComparison = (batch:any, payload:any) => {\n        const results = compareData(payload, batch);\n        console.log(\"These are the results from comparison: \", results);\n\n        return results;\n    }\n\n    const handleItemSelect = (item:any) => {\n        console.log(\"This is the selected\", item);\n        if(!isSelected)\n            setSelected(true);\n        else\n            setSelected(false);\n    }\n\n    const manageMovieDisplay = () => {\n        if(isInspecting){\n            return(\n                <>\n                    <h3 style={{ textAlign: \"left\", marginTop:\"20px\" }}>Comparison Table</h3>\n                    <Movie batch={apiData} dbFile={MovieDB} processLog={processLog} />\n                    <Grid container spacing={10} justify=\"flex-start\">\n                        <Grid item xs={5} >\n                            <Table >\n                                <TableHead>\n                                    <TableRow>\n                                        <TableCell align=\"left\"> {} </TableCell>\n                                        <TableCell align=\"left\">imdbID</TableCell>\n                                        <TableCell align=\"left\">Writers</TableCell>\n                                        <TableCell align=\"left\">Directors</TableCell>\n                                    </TableRow>\n                                </TableHead>\n                                <TableBody>\n                                    <TableRow>\n                                        <TableCell align=\"left\">Amazon Payload</TableCell>\n                                        <TableCell align=\"left\">N/a</TableCell>\n                                        <TableCell align=\"left\">{payloadData[0].views[0].writers}</TableCell>\n                                        <TableCell align=\"left\">{payloadData[0].views[0].directors}</TableCell>\n                                    </TableRow>\n                                    {/* <TableRow>\n                                        <TableCell align=\"left\">Batch Data</TableCell>\n                                    </TableRow> */}\n                                </TableBody>\n                            </Table>\n                        </Grid>\n                        <Grid item xs={5}>\n                            <Table >\n                                <TableHead>\n                                    <TableRow>\n                                        <TableCell align=\"left\"> {} </TableCell>\n                                        <TableCell align=\"left\" className={classes.mismatchCell}>imdbID</TableCell>\n                                        <TableCell align=\"left\" className={classes.mismatchCell}>Writers</TableCell>\n                                        <TableCell align=\"left\" className={classes.positiveCell}>Directors</TableCell>\n                                    </TableRow>\n                                </TableHead>\n                                <TableBody>\n                                    {apiData.map((listing:any, i:number) =>(\n                                        <TableRow>\n                                            <TableCell align=\"left\">Batch Data</TableCell>\n                                            <TableCell align=\"left\">{listing.imdbID}</TableCell>\n                                            <TableCell align=\"left\">{listing.Writer}</TableCell>\n                                            <TableCell align=\"left\">{listing.Director}</TableCell>\n                                        </TableRow>\n                                    ))}\n                                    \n                                    {/* <TableRow>\n                                        <TableCell align=\"left\">Batch Data</TableCell>\n                                    </TableRow> */}\n                                </TableBody>\n                            </Table>\n                        </Grid>\n                    </Grid>\n                </>\n            );\n        } else return;\n    }\n\n    const manageDisplay = () => {\n        let counter = 1;\n        return(\n            <>\n                <Grid container alignItems=\"center\" justify=\"center\" >\n                    <Paper className={classes.paperRoot}>\n                        <h3 style={{ textAlign: \"center\" }}>Batch Table</h3>\n                        <Grid item lg={11}>\n                            <Table>\n                                <TableHead>\n                                    <TableRow>\n                                        <TableCell align=\"left\">{ }</TableCell>\n                                        <TableCell align=\"left\">Movie Title</TableCell>\n                                        <TableCell align=\"left\">Positive Matches</TableCell>\n                                        <TableCell align=\"left\">Mismatches</TableCell>\n                                        <TableCell align=\"right\"></TableCell>\n                                    </TableRow>\n                                </TableHead>\n                                <TableBody>\n                                    {apiData.map((listing: any, i:number) => (\n                                        <TableRow key={i}>\n                                            <TableCell key={i}>\n                                                <CheckBox \n                                                    checked={isSelected}\n                                                    onChange={()=>handleItemSelect(i)}\n                                                    color=\"primary\"\n                                                    inputProps={{\n                                                        'aria-label': 'primary checkbox',\n                                                    }}\n                                                />\n                                            </TableCell>\n                                            <TableCell align=\"left\" key={i}>{listing.Title}</TableCell>\n                                            <TableCell align=\"left\" key={i}>{processLog.positive.length - 1}</TableCell>\n                                            <TableCell align=\"left\" key={i}>{processLog.negative.length - 1}</TableCell>\n                                            <TableCell align=\"right\">\n                                                <Button variant=\"outlined\" onClick={() => {isInspecting ? setIsInspecting(false) : setIsInspecting(true)}}>\n                                                    {isInspecting ? \"Hide\" : \"Inspect\"}\n                                                </Button>\n                                            </TableCell>\n                                        </TableRow>\n                                        \n                                    ))}\n                                </TableBody>\n                            </Table>\n                        </Grid>\n                        <Grid container justify=\"flex-start\" alignItems=\"center\">\n                            <Grid item lg={12}>\n                                {manageMovieDisplay()}\n                            </Grid>\n                        </Grid>\n                        <Grid item lg={4}>\n                            <Button variant=\"contained\" size=\"large\" color=\"secondary\" className={classes.reportBtn}\n                                onClick={()=> handleReportLog()}>\n                                Report Log\n                            </Button>\n                        </Grid>\n                        <Grid item lg={6}>\n                            {handleErrorMessage()}            \n                        </Grid>\n                    </Paper>\n                    \n                </Grid>\n            \n            </>\n        );\n        \n    }\n\n    \n    return(\n        <div>\n            <h1 className={classes.headerLabel}>ReportID: 279940376</h1>\n            \n            {manageDisplay()}\n        </div>\n    );\n}\n\nexport default withStyles(styles)(Report);"]},"metadata":{},"sourceType":"module"}